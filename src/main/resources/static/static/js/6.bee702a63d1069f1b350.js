webpackJsonp([6],{Uypd:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("mvHQ"),n=o.n(s),l=o("7+uW").default.extend({name:"logIn",data:function(){var t=window.sessionStorage.getItem("studentInfo");return null!=t&&(this.$store.dispatch("setLogInFlag",!0),this.logInFlag=!0),console.log(t),{msg:"",title:"",url:"",accountInfo:{username:"",password:""},logInFlag:this.$store.getters.isLogIn}},mounted:function(){null!=window.sessionStorage.getItem("studentInfo")&&this.$router.push({path:"/student"})},methods:{logIn:function(){var t=this;this.$axios.post("/api/student/login?username="+this.accountInfo.username+"&password="+this.accountInfo.password).then(function(e){if(""==e.data)t.msg="姓名或者身份证错误查无此人。";else{window.sessionStorage.setItem("studentInfo",n()(e.data)),console.log("sessionStorage");var o=window.sessionStorage.getItem("studentInfo"),s=JSON.parse(o);console.log(s),t.logInFlag=!0,t.$store.commit("setLogInFlag",!0),t.$store.dispatch("setLogInFlag",!0),console.log("this.$store.logInFlag"),console.log(t.$store.getters.isLogIn),console.log(e),console.log(e.data),t.$router.push({path:"student"})}}).catch(function(t){console.log(t)})}}}),a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return 0==t.logInFlag?o("div",[o("br"),t._v(" "),o("br"),t._v(" "),o("div",{attrs:{align:"center"}},[o("span",{staticStyle:{color:"red"}},[t._v(t._s(t.msg))]),t._v(" "),o("el-form",{ref:"logForm",attrs:{model:t.accountInfo,"label-position":"right","label-width":"80px"}},[o("el-row",{attrs:{type:"flex",justify:"center"}},[o("el-col",{attrs:{span:16}},[o("el-form-item",{attrs:{label:"考生姓名",prop:"username"}},[o("el-input",{attrs:{size:"small"},model:{value:t.accountInfo.username,callback:function(e){t.$set(t.accountInfo,"username",e)},expression:"accountInfo.username"}})],1)],1)],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"center"}},[o("el-col",{attrs:{span:16}},[o("el-form-item",{attrs:{label:"身份证号",prop:"password"}},[o("el-input",{attrs:{size:"small"},model:{value:t.accountInfo.password,callback:function(e){t.$set(t.accountInfo,"password",e)},expression:"accountInfo.password"}})],1)],1)],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"center"}},[o("el-col",[o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.logIn}},[t._v("登录")])],1)],1)],1)],1)],1)]):t._e()},staticRenderFns:[]},r=o("VU/8")(l,a,!1,null,null,null);e.default=r.exports}});
//# sourceMappingURL=6.bee702a63d1069f1b350.js.map